# ‚úÖ –ü–ª–∞–Ω –∑–∞–¥–∞—á –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é TUI

### üèóÔ∏è –≠—Ç–∞–ø 1: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å–Ω–æ–≤–Ω–æ–π –ª–æ–≥–∏–∫–∏—ã

**–¶–µ–ª—å:** –û—Ç–¥–µ–ª–∏—Ç—å –ª–æ–≥–∏–∫—É –æ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è, —á—Ç–æ–±—ã –µ—ë –º–æ–∂–Ω–æ –±—ã–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏ –≤ CLI, –∏ –≤ TUI.

#### –ó–∞–¥–∞—á–∞ 1.1: –õ–æ–≥–∏–∫–∞ —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–∫–æ–≤
- [x] üìÅ –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Ñ–∞–π–ª `internal/track/manager.go`.
- [x] üèóÔ∏è –í `manager.go` –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `Manager` —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å—é –æ—Ç `*data.AppData`.
- [x] üìú –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ `Manager` –º–µ—Ç–æ–¥ `ListTracks() []data.TrackMetadata`, –∫–æ—Ç–æ—Ä—ã–π –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ —Ç—Ä–µ–∫–æ–≤.
- [x] ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `snatcher list` (`cmd/snatcher/list.go`), —á—Ç–æ–±—ã –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `track.Manager` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ CLI –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ.

#### –ó–∞–¥–∞—á–∞ 1.2: –õ–æ–≥–∏–∫–∞ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- [x] üìÅ –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –∏ —Ñ–∞–π–ª `internal/player/player.go`.
- [x] üéß –í `player.go` –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `Player` –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø–ª–µ–µ—Ä–∞.
- [x] üöö –ü–µ—Ä–µ–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è –∏–∑ `cmd/snatcher/play.go` –≤ —Å–µ—Ä–≤–∏—Å `player.Player`.
- [x] üì° –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ `player.Player` –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å —á–µ—Ä–µ–∑ –∫–∞–Ω–∞–ª—ã:
  - [x] –ö–∞–Ω–∞–ª –¥–ª—è —Å—Ç–∞—Ç—É—Å–∞: `Progress() <-chan Status` (—Å–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π `Status{ Current, Total time.Duration, IsPlaying bool, Speed float64, StuckCount int }`).
  - [x] –ö–∞–Ω–∞–ª –¥–ª—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è: `Done() <-chan bool`.
- [x] ‚úÖ –û–±–Ω–æ–≤–∏—Ç—å –∫–æ–º–∞–Ω–¥—É `snatcher play` (`cmd/snatcher/play.go`), —á—Ç–æ–±—ã –æ–Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª–∞ `player.Player` –∏ –≤—ã–≤–æ–¥–∏–ª–∞ –≤ –∫–æ–Ω—Å–æ–ª—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –∏–∑ –∫–∞–Ω–∞–ª–æ–≤. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ CLI –∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –ø—Ä–µ–∂–¥–µ.

---

### ‚ú® –≠—Ç–∞–ø 2: –°–æ–∑–¥–∞–Ω–∏–µ TUI —Å –¥–≤—É–º—è —ç–∫—Ä–∞–Ω–∞–º–∏

**–¶–µ–ª—å:** –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –±–∞–∑–æ–≤—ã–π TUI —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π –º–µ–∂–¥—É —Å–ø–∏—Å–∫–æ–º —Ç—Ä–µ–∫–æ–≤ –∏ –ø–ª–µ–µ—Ä–æ–º.

#### –ó–∞–¥–∞—á–∞ 2.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞
- [x] üì¶ –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `go get github.com/charmbracelet/bubbletea github.com/charmbracelet/lipgloss`.
- [x] üìÅ –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `internal/tui`.
- [x] üöÄ –í `cmd/snatcher/main.go` –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—É—é –∫–æ–º–∞–Ω–¥—É `tui`, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∏ –∑–∞–ø—É—Å–∫–∞—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ Bubble Tea.

#### –ó–∞–¥–∞—á–∞ 2.2: –≠–∫—Ä–∞–Ω —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–∫–æ–≤
- [ ] üìÅ –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç `internal/tui/tracklist` —Å —Ñ–∞–π–ª–æ–º `model.go`.
- [ ] üìù –í `tracklist/model.go` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å, –∏—Å–ø–æ–ª—å–∑—É—è `list.Model` –∏–∑ Bubble Tea.
- [ ] üîÑ –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å `track.Manager` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–∫–æ–≤ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–∏.
- [ ] üñºÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–µ—Ç–æ–¥ `View` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ —Ç—Ä–µ–∫–æ–≤.
- [ ] üì® –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏—è `TrackSelectedMsg` –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ `Enter` –¥–ª—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –Ω–∞ —ç–∫—Ä–∞–Ω –ø–ª–µ–µ—Ä–∞.

#### –ó–∞–¥–∞—á–∞ 2.3: –≠–∫—Ä–∞–Ω –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è
- [ ] üìÅ –°–æ–∑–¥–∞—Ç—å –ø–∞–∫–µ—Ç `internal/tui/player` —Å —Ñ–∞–π–ª–æ–º `model.go`.
- [ ] ‚èØÔ∏è –í `player/model.go` —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Ö—Ä–∞–Ω–∏—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–µ–µ—Ä–∞ (–≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ç—Ä–µ–∫, —Å—Ç–∞—Ç—É—Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è).
- [ ] ‚öôÔ∏è –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ—Ä–≤–∏—Å `player.Player` (–∏–∑ –≠—Ç–∞–ø–∞ 1) –¥–ª—è –∑–∞–ø—É—Å–∫–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ–º.
- [ ] ‚ö° –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `tea.Cmd` –¥–ª—è –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è –∫–∞–Ω–∞–ª–æ–≤ `Progress` –∏ `Done` –æ—Ç —Å–µ—Ä–≤–∏—Å–∞ `player.Player`.
- [ ] üìä –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `Update` –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç –ø–ª–µ–µ—Ä–∞ (`PlayerProgressMsg`, `PlaybackFinishedMsg`) –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è –º–æ–¥–µ–ª–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞).
- [ ] üñºÔ∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å `View` –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–µ–∫–µ, –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞ –∏ —Å—Ç–∞—Ç—É—Å–∞ (‚ñ∂Ô∏è, ‚è∏Ô∏è).
- [ ] ‚å®Ô∏è –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–ª–µ–µ—Ä–æ–º: `–ø—Ä–æ–±–µ–ª` –¥–ª—è –ø–∞—É–∑—ã/–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è, `q`/`esc` –¥–ª—è –≤–æ–∑–≤—Ä–∞—Ç–∞ –∫ —Å–ø–∏—Å–∫—É —Ç—Ä–µ–∫–æ–≤.

#### –ó–∞–¥–∞—á–∞ 2.4: –ì–ª–∞–≤–Ω–∞—è –º–æ–¥–µ–ª—å-—Ä–æ—É—Ç–µ—Ä
- [ ] üö¶ –í `internal/tui/tui.go` —Å–æ–∑–¥–∞—Ç—å –≥–ª–∞–≤–Ω—É—é –º–æ–¥–µ–ª—å, –∫–æ—Ç–æ—Ä–∞—è –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ –º–æ–¥–µ–ª–∏ `tracklist` –∏ `player`.
- [ ] üîÄ –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤ –≥–ª–∞–≤–Ω–æ–π –º–æ–¥–µ–ª–∏ –ª–æ–≥–∏–∫—É —Ä–æ—É—Ç–∏–Ω–≥–∞ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –º–µ–∂–¥—É —ç–∫—Ä–∞–Ω–∞–º–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–æ–±—â–µ–Ω–∏–π (`TrackSelectedMsg`, `GoBackMsg`).

---

### üîÆ –≠—Ç–∞–ø 3: –î–∞–ª—å–Ω–µ–π—à–∏–µ —à–∞–≥–∏

- [ ] üèóÔ∏è –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è –∫–æ–º–∞–Ω–¥ (`add`, `download`, `delete`).
- [ ] ‚ûï –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –Ω–æ–≤–æ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞ (–¥–æ–±–∞–≤–ª–µ–Ω–∏–µ, —Å–∫–∞—á–∏–≤–∞–Ω–∏–µ, —É–¥–∞–ª–µ–Ω–∏–µ) –≤ TUI.
- [ ] ‚ö†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫ –∏ —Å–∏—Å—Ç–µ–º—ã —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π –≤ TUI.
