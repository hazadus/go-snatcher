# üîä go-snatcher

CLI tool –¥–ª—è –≤–µ–¥–µ–Ω–∏—è –∫–æ–ª–ª–µ–∫—Ü–∏–∏ DJ-–º–∏–∫—Å–æ–≤ –∏ –∏—Ö –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è.

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∑–∞—Ç–æ—á–µ–Ω–∞ –ø–æ–¥ –º–æ–∏ –æ—á–µ–Ω—å —Å–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –Ω—É–∂–¥—ã –≤ —Å–æ–±–∏—Ä–∞—Ç–µ–ª—å—Å—Ç–≤–µ –∏ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–∏ –º–∏–∫—Å–æ–≤. –ï—ë –æ—á–µ—Ä—Ç–∞–Ω–∏—è –≤—ã—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ –ø–æ –º–µ—Ä–µ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è. –ü–æ–∑–∂–µ, –ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏, –¥–æ–±–∞–≤–ª—é –ø–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ ‚Äì —á—Ç–æ, –∫–∞–∫, –∏ –∑–∞—á–µ–º.

## –°—Å—ã–ª–∫–∏

- [–ë–∞–∫–µ—Ç S3](https://console.yandex.cloud/folders/b1gcjr09b094e4ucdeoq/storage/buckets/snatcher)

## –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- `github.com/spf13/cobra` - CLI —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- `github.com/gopxl/beep` - –∞—É–¥–∏–æ –±–∏–±–ª–∏–æ—Ç–µ–∫–∞
- `github.com/dhowden/tag` - —á—Ç–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö MP3
- `github.com/kkdai/youtube` - –∑–∞–≥—Ä—É–∑–∫–∞ —Å YouTube

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ñ–∞–π–ª –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ `~/.snatcher`.

### –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –û–ø–∏—Å–∞–Ω–∏–µ | –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–π |
|----------|----------|----------------------|--------------|
| `aws_bucket_name` | –ò–º—è –±–∞–∫–µ—Ç–∞ –≤ Yandex Cloud Storage | - | –î–∞ |
| `aws_access_key` | –ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞ –¥–ª—è S3 API | - | –î–∞ |
| `aws_secret_key` | –°–µ–∫—Ä–µ—Ç–Ω—ã–π –∫–ª—é—á –¥–ª—è S3 API | - | –î–∞ |
| `aws_region` | –†–µ–≥–∏–æ–Ω —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ | - | –î–∞ |
| `aws_endpoint` | –≠–Ω–¥–ø–æ–∏–Ω—Ç Yandex Cloud Storage | - | –î–∞ |
| `download_dir` | –ü–∞–ø–∫–∞ –¥–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –∞—É–¥–∏–æ—Ñ–∞–π–ª–æ–≤ | `~/Downloads` | –ù–µ—Ç |

### –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –¥–ª—è Yandex Cloud Storage:
```yaml
aws_bucket_name: "your-bucket-name"
aws_access_key: "your-access-key"
aws_secret_key: "your-secret-key"
aws_region: "ru-central1"
aws_endpoint: "https://storage.yandexcloud.net"
download_dir: "~/Music/snatcher"
```

## –ö–æ–º–∞–Ω–¥—ã

### `snatcher add`

–ó–∞–≥—Ä—É–∂–∞–µ—Ç MP3-—Ñ–∞–π–ª –≤ –æ–±–ª–∞—á–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ S3 –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –µ–≥–æ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É —Ç—Ä–µ–∫–æ–≤.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```bash
snatcher add [–ø—É—Ç—å –∫ —Ñ–∞–π–ª—É]
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∏–∑ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
snatcher add "my_mix.mp3"

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –ø–æ –∞–±—Å–æ–ª—é—Ç–Ω–æ–º—É –ø—É—Ç–∏
snatcher add "/Users/username/Music/Deep_House_Mix.mp3"

# –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª –∏–∑ –¥—Ä—É–≥–æ–π –ø–∞–ø–∫–∏
snatcher add "~/Downloads/Techno_Set_2024.mp3"
```

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç:**
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
- –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–ª—å–±–æ–º, –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å)
- –ó–∞–≥—Ä—É–∑–∫–∞ –≤ S3 —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å–∞
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç—Ä–µ–∫–µ –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö

---

### `snatcher list`

–û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —Ç—Ä–µ–∫–æ–≤ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫–µ —Å –ø–æ–¥—Ä–æ–±–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```bash
snatcher list
```

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üìö –ù–∞–π–¥–µ–Ω–æ —Ç—Ä–µ–∫–æ–≤: 3

ID   –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å                    –ù–∞–∑–≤–∞–Ω–∏–µ                       –ê–ª—å–±–æ–º               –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –†–∞–∑–º–µ—Ä
------------------------------------------------------------------------------------------------------------------------
1    Ben Kaczor                     Inverted Audio In-Store        Various Artists      45:23        64.2 MB
2    Hazadus                        Deep Dark Mix 08.01.12         Personal Collection  67:45        92.8 MB
```

**–û—Ç–æ–±—Ä–∞–∂–∞–µ–º–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:**
- ID —Ç—Ä–µ–∫–∞ (–¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Å –∫–æ–º–∞–Ω–¥–æ–π `play`)
- –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç—Ä–µ–∫–∞
- –ê–ª—å–±–æ–º
- –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞

---

### `snatcher play`

–í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç —Ç—Ä–µ–∫ –ø–æ –µ–≥–æ ID —Å –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```bash
snatcher play [ID —Ç—Ä–µ–∫–∞]
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ç—Ä–µ–∫ —Å ID 1
snatcher play 1

# –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ —Ç—Ä–µ–∫ —Å ID 5
snatcher play 5
```

**–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è:**
- `[–ü—Ä–æ–±–µ–ª]` - –ø–∞—É–∑–∞/–≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ
- `[Ctrl+C]` - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –≤—ã–π—Ç–∏

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
üéµ –í–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç—Å—è: Ben Kaczor - Inverted Audio In-Store
   –ü—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å: 45:23
   –†–∞–∑–º–µ—Ä –±—É—Ñ–µ—Ä–∞: 64 KB
   –ö–∞—á–µ—Å—Ç–≤–æ: 16-bit, 44100 Hz, 2 –∫–∞–Ω–∞–ª–æ–≤

üéÆ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:
   [–ü—Ä–æ–±–µ–ª] - –ø–∞—É–∑–∞/–≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ
   [Ctrl+C] - –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∏ –≤—ã–π—Ç–∏
```

---

### `snatcher download`

–°–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ –∏–∑ YouTube –≤–∏–¥–µ–æ –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∫–∞–∫ MP3-—Ñ–∞–π–ª –≤ –ø–∞–ø–∫—É –∑–∞–≥—Ä—É–∑–æ–∫.

**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**
```bash
snatcher download [URL YouTube –≤–∏–¥–µ–æ]
```

**–ü—Ä–∏–º–µ—Ä—ã:**
```bash
# –°–∫–∞—á–∞—Ç—å –∞—É–¥–∏–æ –∏–∑ YouTube –≤–∏–¥–µ–æ
snatcher download "https://www.youtube.com/watch?v=dQw4w9WgXcQ"

# –°–æ–∫—Ä–∞—â–µ–Ω–Ω—ã–π URL —Ç–∞–∫–∂–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
snatcher download "https://youtu.be/dQw4w9WgXcQ"
```

**–ü—Ä–æ—Ü–µ—Å—Å –∑–∞–≥—Ä—É–∑–∫–∏:**
1. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ ID –≤–∏–¥–µ–æ –∏–∑ URL
2. –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–∏–¥–µ–æ (–Ω–∞–∑–≤–∞–Ω–∏–µ, –∞–≤—Ç–æ—Ä)
3. –ü–æ–∏—Å–∫ –ª—É—á—à–µ–≥–æ –∞—É–¥–∏–æ —Ñ–æ—Ä–º–∞—Ç–∞
4. –ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ –ø–æ—Ç–æ–∫–∞
5. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∫–∞–∫ MP3 –≤ –ø–∞–ø–∫—É `download_dir` –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

**–ü—Ä–∏–º–µ—Ä –≤—ã–≤–æ–¥–∞:**
```
–°–∫–∞—á–∏–≤–∞–µ–º –∞—É–¥–∏–æ –¥–ª—è –≤–∏–¥–µ–æ ID: dQw4w9WgXcQ
–ù–∞–∑–≤–∞–Ω–∏–µ: Rick Astley - Never Gonna Give You Up
–ê–≤—Ç–æ—Ä: RickAstleyVEVO
–ó–∞–≥—Ä—É–∂–∞–µ–º –∞—É–¥–∏–æ –ø–æ—Ç–æ–∫...
–§–∞–π–ª —Å–æ—Ö—Ä–∞–Ω–µ–Ω: ~/Music/snatcher/Rick_Astley_Never_Gonna_Give_You_Up.mp3
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–æ—Å–ª–µ –∑–∞–≥—Ä—É–∑–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `snatcher add` –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É.

---

## –¢–∏–ø–∏—á–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–ó–∞–≥—Ä—É–∑–∫–∞ –∞—É–¥–∏–æ —Å YouTube:**
   ```bash
   snatcher download "https://www.youtube.com/watch?v=example"
   ```

2. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –±–∏–±–ª–∏–æ—Ç–µ–∫—É:**
   ```bash
   snatcher add "~/Music/snatcher/downloaded_track.mp3"
   ```

3. **–ü—Ä–æ—Å–º–æ—Ç—Ä –±–∏–±–ª–∏–æ—Ç–µ–∫–∏:**
   ```bash
   snatcher list
   ```

4. **–í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ —Ç—Ä–µ–∫–∞:**
   ```bash
   snatcher play 1
   ```